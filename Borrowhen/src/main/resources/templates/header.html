<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
   xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
   <head>
      <meta charset="UTF-8">
      <title>Borrowhen | Header</title>
   </head>
   <body>
      <div th:fragment="admin-header" class="bg-base-200 z-11 sticky top-0 w-full">
         <nav class="flex items-center justify-between bg-white py-3 pe-6 max-w-[1280px] mx-auto w-full gap-y-3">
            <div class="flex items-center gap-6">
               <!-- Logo -->
               <div class="flex shrink-0 gap-2">
                  <a th:href="@{/admin/dashboard}" class="flex items-center gap-x-3">
                     <img th:src="@{/images/logo.png}" class="w-8 h-8">
                     <h3 class="text-base-content text-xl font-bold leading-none text-base !text-gray-500">
                        Borrowhen
                     </h3>
                  </a>
               </div>
               <!-- Center Menu -->
               <div>
                  <ul class="flex flex-wrap text-base gap-1.5 text-sm">
                     <!-- Dashboard -->
                     <li class="rounded-lg active">
                        <a th:href="@{/admin/dashboard}"
                           class="rounded-sm px-2 py-1.5 flex items-center gap-2 text-gray-500">
                        <i class="fa-solid fa-chart-line inline-flex items-center"></i>
                        <span>Dashboard</span>
                        </a>
                     </li>
                     <!-- Inventory -->
                     <li class="relative rounded-lg px-1 py-2 dropdown-wrapper">
                        <button type="button"
                           class="px-2 flex items-center gap-2 text-gray-500 hover:text-gray-300 transition">
                        <i class="fa-solid fa-box inline-flex items-center"></i>
                        <span>Inventory</span>
                        <i class="fa-solid fa-chevron-down inline-flex items-center text-xs"></i>
                        </button>
                        <ul
                           class="dropdown-menu hidden absolute left-0 mt-6 w-48 bg-white border border-gray-200 rounded-xl shadow-lg text-gray-600 z-20 p-2 space-y-1">
                           <li><a href="#" class="block px-3 py-2 rounded-lg hover:bg-gray-100 hover:text-gray-800 transition-colors">Inventory List</a></li>
                           <li><a href="#" class="block px-3 py-2 rounded-lg hover:bg-gray-100 hover:text-gray-800 transition-colors">Add Item</a></li>
                        </ul>
                     </li>
                     <!-- Request -->
                     <li class="relative rounded-lg px-1 py-2 dropdown-wrapper">
                        <button type="button"
                           class="px-2 flex items-center gap-2 text-gray-500 hover:text-gray-300 transition">
                        <i class="fa-solid fa-envelope-open-text inline-flex items-center"></i>
                        <span>Request</span>
                        <i class="fa-solid fa-chevron-down inline-flex items-center text-xs"></i>
                        </button>
                        <ul
                           class="dropdown-menu hidden absolute left-0 mt-6 w-48 bg-white border border-gray-200 rounded-xl shadow-lg text-gray-600 z-20 p-2 space-y-1">
                           <li><a href="#" class="block px-3 py-2 rounded-lg hover:bg-gray-100 hover:text-gray-800 transition-colors">Request List</a></li>
                           <li><a href="#" class="block px-3 py-2 rounded-lg hover:bg-gray-100 hover:text-gray-800 transition-colors">New Request</a></li>
                        </ul>
                     </li>
                     <!-- Borrower -->
                     <li class="relative rounded-lg px-1 py-2 dropdown-wrapper">
                        <button type="button"
                           class="px-2 flex items-center gap-2 text-gray-500 hover:text-gray-300 transition">
                        <i class="fa-solid fa-user inline-flex items-center"></i>
                        <span>Borrower</span>
                        <i class="fa-solid fa-chevron-down inline-flex items-center text-xs"></i>
                        </button>
                        <ul
                           class="dropdown-menu hidden absolute left-0 mt-6 w-48 bg-white border border-gray-200 rounded-xl shadow-lg text-gray-600 z-20 p-2 space-y-1">
                           <li><a href="#" class="block px-3 py-2 rounded-lg hover:bg-gray-100 hover:text-gray-800 transition-colors">Borrower List</a></li>
                           <li><a href="#" class="block px-3 py-2 rounded-lg hover:bg-gray-100 hover:text-gray-800 transition-colors">Add Borrower</a></li>
                        </ul>
                     </li>
                     <!-- Lender -->
                     <li class="relative rounded-lg px-1 py-2 dropdown-wrapper">
                        <button type="button"
                           class="px-2 flex items-center gap-2 text-gray-500 hover:text-gray-300 transition">
                        <i class="fa-solid fa-hand-holding-dollar inline-flex items-center"></i>
                        <span>Lender</span>
                        <i class="fa-solid fa-chevron-down inline-flex items-center text-xs"></i>
                        </button>
                        <ul
                           class="dropdown-menu hidden absolute left-0 mt-6 w-48 bg-white border border-gray-200 rounded-xl shadow-lg text-gray-600 z-20 p-2 space-y-1">
                           <li><a th:href="@{/admin/lenders}" class="block px-3 py-2 rounded-lg hover:bg-gray-100 hover:text-gray-800 transition-colors">Lender List</a></li>
                           <li><a href="#" class="block px-3 py-2 rounded-lg hover:bg-gray-100 hover:text-gray-800 transition-colors">Add Lender</a></li>
                        </ul>
                     </li>
                     <!-- Settings -->
                     <li class="relative rounded-lg px-1 py-2 dropdown-wrapper">
                        <button type="button"
                           class="px-2 flex items-center gap-2 text-gray-500 hover:text-gray-300 transition">
                        <i class="fa-solid fa-sliders inline-flex items-center"></i>
                        <span>Settings</span>
                        <i class="fa-solid fa-chevron-down inline-flex items-center text-xs"></i>
                        </button>
                        <ul
                           class="dropdown-menu hidden absolute left-0 mt-6 w-48 bg-white border border-gray-200 rounded-xl shadow-lg text-gray-600 z-20 p-2 space-y-1">
                           <li><a href="#" class="block px-3 py-2 rounded-lg hover:bg-gray-100 hover:text-gray-800 transition-colors">Pagination</a></li>
                        </ul>
                     </li>
                  </ul>
               </div>
            </div>
            <!-- Right Icons -->
            <!-- Right Icons -->
            <div class="relative flex items-center gap-2 text-base text-gray-600 dark:text-gray-300">
               <i class="fa-solid fa-moon cursor-pointer p-1.5 rounded-sm hover:bg-gray-100 transition text-sm text-gray-500"></i>
               <i class="fa-solid fa-bell cursor-pointer p-1.5 rounded-sm hover:bg-gray-100 transition text-sm text-gray-500"></i>
               <!-- Dropdown Trigger -->
               <i id="profileDropdownBtn"
                  class="fa-solid fa-chevron-down cursor-pointer border border-blue-100 rounded-lg p-1.5 hover:bg-gray-100 transition text-xs text-gray-500"></i>
               <!-- Dropdown Menu -->
               <div id="profileDropdown"
                  class="hidden absolute right-0 top-10 w-70 bg-white border border-gray-200 rounded-xl shadow-lg text-gray-700 z-30">
                  <!-- Profile Header -->
                  <div class="flex items-center gap-3 px-4 py-3 border-b border-gray-200">
                     <div>
                        <p class="font-semibold text-gray-800">Phil Ohme</p>
                        <p class="text-sm text-gray-500">@philOhme</p>
                     </div>
                  </div>
                  <!-- Menu Items -->
                  <ul class="py-2 space-y-1">
                     <li class="px-4 hover:bg-gray-100 hover:px-5 rounded-lg transition-all">
                        <a href="#" class="flex items-center gap-3 py-2">
                        <i class="fa-regular fa-user text-gray-500 w-5"></i>
                        My account
                        </a>
                     </li>
                     <li class="px-4 hover:bg-gray-100 hover:px-5 rounded-lg transition-all">
                        <a href="#" class="flex items-center gap-3 py-2">
                        <i class="fa-solid fa-gear text-gray-500 w-5"></i>
                        Setting
                        </a>
                     </li>
                     <hr class="my-1 border-gray-200">
                     <li class="px-4 hover:bg-gray-100 hover:px-5 rounded-lg transition-all">
                        <a href="#" class="flex items-center gap-3 py-2">
                        <i class="fa-regular fa-star text-gray-500 w-5"></i>
                        Reviews
                        </a>
                     </li>
                     <li class="px-4 hover:bg-gray-100 hover:px-5 rounded-lg transition-all">
                        <a href="#" class="flex items-center gap-3 py-2">
                        <i class="fa-solid fa-store text-gray-500 w-5"></i>
                        Vendors
                        </a>
                     </li>
                     <li class="px-4 hover:bg-gray-100 hover:px-5 rounded-lg transition-all">
                        <a href="#" class="flex items-center gap-3 py-2">
                        <i class="fa-solid fa-box text-gray-500 w-5"></i>
                        Orders
                        </a>
                     </li>
                     <hr class="my-1 border-gray-200">
                     <li class="px-4 hover:bg-red-50 hover:px-5 rounded-lg transition-all">
                        <form th:action="@{/logout}" method="post">
                           <button type="submit" class="w-full flex items-center gap-3 py-2 text-red-600 text-left">
                           <i class="fa-solid fa-right-from-bracket text-red-500 w-5"></i>
                           Logout
                           </button>
                        </form>
                     </li>
                  </ul>
               </div>
               <script>
                  const profileBtn = document.getElementById('profileDropdownBtn');
                  const profileMenu = document.getElementById('profileDropdown');
                  
                  profileBtn.addEventListener('click', () => {
                    profileMenu.classList.toggle('hidden');
                  });
                  
                  document.addEventListener('click', (e) => {
                    if (!profileBtn.contains(e.target) && !profileMenu.contains(e.target)) {
                      profileMenu.classList.add('hidden');
                    }
                  });
               </script>
            </div>
         </nav>
         <!-- JS -->
         <script>
            document.addEventListener("DOMContentLoaded", () => {
               const dropdowns = document.querySelectorAll(".dropdown-wrapper");
            
               dropdowns.forEach(wrapper => {
                  const button = wrapper.querySelector("button");
                  const menu = wrapper.querySelector(".dropdown-menu");
            
                  button.addEventListener("click", (e) => {
                     e.stopPropagation();
            
                     // Close all other dropdowns
                     document.querySelectorAll(".dropdown-menu").forEach(m => {
                        if (m !== menu) m.classList.add("hidden");
                     });
            
                     // Toggle this one
                     menu.classList.toggle("hidden");
                  });
               });
            
               // Close all dropdowns on outside click
               document.addEventListener("click", (e) => {
                  if (!e.target.closest(".dropdown-wrapper")) {
                     document.querySelectorAll(".dropdown-menu").forEach(menu => menu.classList.add("hidden"));
                  }
               });
            });
         </script>
      </div>
   </body>
</html>